/*!
 * Picker.js v1.0.0-beta
 * https://fengyuanchen.github.io/pickerjs
 *
 * Copyright 2016-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-07-19T18:56:20.811Z
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Picker=t()}(this,function(){"use strict";var i={container:null,date:null,format:"YYYY-MM-DD HH:mm",increment:1,inline:!1,language:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rows:5,text:{title:"Pick a date / time",cancel:"Cancel",confirm:"OK",edit_date:"Digitar data"},translate:function(e,t){return t},show:null,shown:null,hide:null,hidden:null,pick:null},p='<div class="picker" data-action="hide" touch-action="none" tabindex="-1" role="dialog"><div class="picker-dialog" role="document"><div class="picker-header"><button type="button" class="picker-edit" data-action="edit" aria-label="Edit">âœŽ {{ edit_date }}</button><button type="button" class="picker-pick" data-action="pick-mode" aria-label="Pick">{{ title }}</button></div><div class="picker-body"><div class="picker-grid"></div><div class="picker-grid input-mode">            <div class="day input-container"><input></input></div>            <div class="month input-container"><input></input></div>            <div class="year input-container"><input></input></div>         </div></div><div class="picker-footer"><button type="button" class="picker-cancel" data-action="hide">{{ cancel }}</button><button type="button" class="picker-confirm" data-action="pick">{{ confirm }}</button></div></div></div>',r="undefined"!=typeof window,v=r?window:{},g="picker",s={},b=g+"-open",y=g+"-opened",d=g+"-picked",a="click",o="focus",c="hidden",h="hide",u="keydown",l="pick",m=v.PointerEvent?"pointerdown":"touchstart mousedown",f=v.PointerEvent?"pointermove":"touchmove mousemove",k=v.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",w="show",M="shown",D="wheel mousewheel DOMMouseScroll",t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),n=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Y=Object.prototype,E=Y.hasOwnProperty,x=Y.toString;function S(e){return"string"==typeof e}var C=Number.isFinite||v.isFinite,N=Number.isNaN||v.isNaN;function A(e){return"number"==typeof e&&!N(e)}function P(e){return"object"===(void 0===e?"undefined":t(e))&&null!==e}function H(e){if(!P(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&E.call(n,"isPrototypeOf")}catch(e){return!1}}function L(e){return"function"==typeof e}function O(e){return"date"===(t=e,x.call(t).slice(8,-1).toLowerCase());var t}function F(t,n){if(t&&L(n))if(Array.isArray(t)||A(t.length)){var e=t.length,i=void 0;for(i=0;i<e&&!1!==n.call(t,t[i],i,t);i+=1);}else P(t)&&Object.keys(t).forEach(function(e){n.call(t,t[e],e,t)});return t}function T(n){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return P(n)&&0<t.length&&t.forEach(function(t){P(t)&&Object.keys(t).forEach(function(e){H(n[e])&&H(t[e])?n[e]=T({},n[e],t[e]):n[e]=t[e]})}),n}function j(e,t){if(t)if(A(e.length))F(e,function(e){j(e,t)});else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className=n+" "+t):e.className=t}}function V(e,t){t&&(A(e.length)?F(e,function(e){V(e,t)}):e.classList?e.classList.remove(t):0<=e.className.indexOf(t)&&(e.className=e.className.replace(t,"")))}var I=/([a-z\d])([A-Z])/g;function B(e){return e.replace(I,"$1-$2").toLowerCase()}function R(e,t){return P(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+B(t))}function W(e,t,n){P(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-"+B(t),n)}var J=/\s\s*/,_=function(){var e=!1;if(r){var t=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});v.addEventListener("test",n,i),v.removeEventListener("test",n,i)}return e}();function q(n,e,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},s=i;e.trim().split(J).forEach(function(e){if(!_){var t=n.listeners;t&&t[e]&&t[e][i]&&(s=t[e][i],delete t[e][i],0===Object.keys(t[e]).length&&delete t[e],0===Object.keys(t).length&&delete n.listeners)}n.removeEventListener(e,s,r)})}function K(s,e,a){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},c=a;e.trim().split(J).forEach(function(i){if(o.once&&!_){var e=s.listeners,r=void 0===e?{}:e;c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];delete r[i][a],s.removeEventListener(i,c,o),a.apply(s,t)},r[i]||(r[i]={}),r[i][a]&&s.removeEventListener(i,r[i][a],o),r[i][a]=c,s.listeners=r}s.addEventListener(i,c,o)})}function U(e,t,n){var i=void 0;return L(Event)&&L(CustomEvent)?i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}function $(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=String(Math.abs(e)),i=n.length,r="";for(e<0&&(r+="-");i<t;)i+=1,r+="0";return r+n}function z(e){return{Y:"year",M:"month",D:"day",H:"hour",m:"minute",s:"second",S:"millisecond"}[e.charAt(0)]}var Z=/(Y|M|D|H|m|s|S)\1*/g;var G={bind:function(){var e=this.element,t=this.options,n=this.grid;L(t.show)&&K(e,w,t.show),L(t.shown)&&K(e,M,t.shown),L(t.hide)&&K(e,h,t.hide),L(t.hidden)&&K(e,c,t.hidden),L(t.pick)&&K(e,l,t.pick),K(e,o,this.onFocus=this.focus.bind(this)),K(e,a,this.onFocus),K(this.picker,a,this.onClick=this.click.bind(this)),K(n,D,this.onWheel=this.wheel.bind(this)),K(n,m,this.onPointerDown=this.pointerdown.bind(this)),K(document,f,this.onPointerMove=this.pointermove.bind(this)),K(document,k,this.onPointerUp=this.pointerup.bind(this)),K(document,u,this.onKeyDown=this.keydown.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.grid;L(t.show)&&q(e,w,t.show),L(t.shown)&&q(e,M,t.shown),L(t.hide)&&q(e,h,t.hide),L(t.hidden)&&q(e,c,t.hidden),L(t.pick)&&q(e,l,t.pick),q(e,o,this.onFocus),q(e,a,this.onFocus),q(this.picker,a,this.onClick),q(n,D,this.onWheel),q(n,m,this.onPointerDown),q(document,f,this.onPointerMove),q(document,k,this.onPointerUp),q(document,u,this.onKeyDown)}},Q={focus:function(e){e.target.blur(),this.show()},click:function(e){var t=R(e.target,"action");"hide"===t?this.hide():"pick"===t?this.pick(e.currentTarget):"edit"===t?this.edit(e.currentTarget):"pick-mode"===t&&this.pickMode(e.currentTarget)},wheel:function(e){var t=e.target;if(t!==this.grid){e.preventDefault(),"li"===t.tagName.toLowerCase()&&(t=t.parentNode),"ul"===t.tagName.toLowerCase()&&(t=t.parentNode);var n=R(t,"type");e.deltaY<0?this.prev(n):this.next(n)}},pointerdown:function(e){var t=e.target;if(t!==this.grid){e.preventDefault(),"li"===t.tagName.toLowerCase()&&(t=t.parentNode),"ul"===t.tagName.toLowerCase()&&(t=t.parentNode);var n=t.firstElementChild,i=n.firstElementChild.offsetHeight;this.cell={elem:t,list:n,moveY:0,maxMoveY:i,minMoveY:i/2,startY:e.changedTouches?e.changedTouches[0].pageY:e.pageY,type:R(t,"type")}}},pointermove:function(e){var t=this.cell;if(t){e.preventDefault();var n=e.changedTouches?e.changedTouches[0].pageY:e.pageY,i=t.moveY+(n-t.startY);t.startY=n,t.moveY=i,Math.abs(i)<t.maxMoveY?t.list.style.top=i+"px":(t.list.style.top=0,t.moveY=0,i>=t.maxMoveY?this.prev(t.type):i<=-t.maxMoveY&&this.next(t.type))}},pointerup:function(e){var t=this.cell;t&&(e.preventDefault(),t.list.style.top=0,t.moveY>=t.minMoveY?this.prev(t.type):t.moveY<=-t.minMoveY&&this.next(t.type),this.cell=null)},keydown:function(e){!this.shown||"Escape"!==e.key&&27!==e.keyCode||this.hide()}},X={render:function(e){var t=this;if(e){var n=this.options,i=this.data[e],r=this.current(e),s=L(i.max)?i.max():i.max,a=L(i.min)?i.min():i.min,o=0;C(s)&&(o=0<a?s:s+1),i.list.innerHTML="",i.current=r;for(var c=0;c<n.rows+2;c+=1){var h=document.createElement("li"),u=c-i.index,l=r+u*i.increment;o&&(l%=o)<a&&(l+=o),h.textContent=n.translate(e,i.aliases?i.aliases[l]:$(l+i.offset,i.digit)),W(h,"name",e),W(h,"value",l),j(h,g+"-item"),0===u&&(j(h,d),i.item=h),i.list.appendChild(h)}}else this.format.tokens.forEach(function(e){return t.render(z(e))})},current:function(e,t){var n=this.date,i=this.format,r=i[e];switch(r.charAt(0)){case"Y":return A(t)&&(n.setFullYear(2===r.length?2e3+t:t),i.month&&this.render(z(i.month)),i.day&&this.render(z(i.day))),n.getFullYear();case"M":return A(t)&&(n.setMonth(t),i.day&&this.render(z(i.day))),n.getMonth();case"D":return A(t)&&n.setDate(t),n.getDate();case"H":return A(t)&&n.setHours(t),n.getHours();case"m":return A(t)&&n.setMinutes(t),n.getMinutes();case"s":return A(t)&&n.setSeconds(t),n.getSeconds();case"S":return A(t)&&n.setMilliseconds(t),n.getMilliseconds()}return n},getValue:function(){var e=this.element;return this.isInput?e.value:e.textContent},setValue:function(e){var t=this.element;this.isInput?t.value=e:this.options.container&&(t.textContent=e)},open:function(){var e=this.body;e.style.overflow="hidden",e.style.paddingRight=this.scrollBarWidth+(parseFloat(this.initialBodyPaddingRight)||0)+"px"},close:function(){var e=this.body;e.style.overflow="",e.style.paddingRight=this.initialBodyPaddingRight}},ee={show:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.element,n=this.picker;if(this.inline||this.shown)return this;if(!1===U(t,w))return this;this.shown=!0,this.open(),j(n,b);var i=function(){U(t,M)};return e||n.offsetWidth,j(n,y),e?i():setTimeout(i,300),this},hide:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this.element,i=this.picker;if(this.inline||!this.shown)return this;if(!1===U(n,h))return this;this.shown=!1,V(i,y);var r=function(){e.close(),V(i,b),V(i,"input-mode"),U(n,c)};return t?r():setTimeout(r,300),this},prev:function(e){var t=this.options,n=this.format[e],i=this.data[e],r=i.list,s=r.lastElementChild,a=L(i.max)?i.max():i.max,o=L(i.min)?i.min():i.min,c=i.item.previousElementSibling,h=Number(R(r.firstElementChild,"value"))-i.increment;return h<o&&(h+=a-o+1),s.textContent=t.translate(e,i.aliases?i.aliases[h]:$(h+i.offset,n.length)),W(s,"value",h),c&&(V(i.item,d),j(c,d),i.item=c),r.insertBefore(s,r.firstElementChild),i.current=Number(R(i.item,"value")),this.current(e,i.current),this.inline&&t.container&&this.pick(),this},next:function(e){var t=this.options,n=this.format[e],i=this.data[e],r=i.list,s=r.firstElementChild,a=L(i.max)?i.max():i.max,o=L(i.min)?i.min():i.min,c=i.item.nextElementSibling,h=Number(R(r.lastElementChild,"value"))+i.increment;return a<h&&(h-=a-o+1),s.textContent=t.translate(e,i.aliases?i.aliases[h]:$(h+i.offset,n.length)),W(s,"value",h),r.appendChild(s),c&&(V(i.item,d),j(c,d),i.item=c),i.current=Number(R(i.item,"value")),this.current(e,i.current),this.inline&&t.container&&this.pick(),this},pick:function(e){var t=this.element;if(!1===U(t,l))return this;var n=this.formatDate(this.date);return!0===this.input_mode&&(n=this.formatDate(this.generateInputDate(e))),this.setValue(n),this.isInput&&!1===U(t,"change")&&this.reset(),this.hide(),this},edit:function(e){this.changeView(e)},pickMode:function(e){V(e,"input-mode"),this.input_mode=!1,this.setDate(this.generateInputDate(e))},changeView:function(e){j(e,"input-mode");for(var t=this.getDate(),n=[t.getDate(),t.getMonth()+1,t.getFullYear()],i=e.querySelectorAll(".input-container input"),r=0;r<i.length;r++)i[r].value=n[r];this.input_mode=!0},generateInputDate:function(e){for(var t=e.querySelectorAll(".input-container input"),n=[],i=t.length-1;0<=i;i--)n.push(+t[i].value);return new Date(n[0],n[1]-1,n[2])},getDate:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.date;return e?this.formatDate(t):new Date(t)},setDate:function(e){return e&&(this.date=this.parseDate(e),this.render()),this},update:function(){return this.date=this.parseDate(this.getValue()),this.render(),this},reset:function(){return this.setValue(this.initialValue),this.date=new Date(this.initialDate),this.render(),this},parseDate:function(r){var s=this.options,a=this.format,e=[];if(O(r))return new Date(r);if(S(r)){var t=[].concat(n(s.months),n(s.monthsShort),["\\d+"]);if((e=r.match(new RegExp("("+t.join("|")+")","g")))&&r.length===s.format.length&&e.length!==a.tokens.length&&(e=a.tokens.map(function(e){return r.substr(s.format.indexOf(e),e.length)})),!e||e.length!==a.tokens.length)return new Date}var o=new Date;return e.forEach(function(e,t){var n=a.tokens[t],i=Number(e);switch(n){case"YYYY":case"YYY":case"Y":o.setFullYear("-"===r.substr(r.indexOf(e)-1,1)?-i:i);break;case"YY":o.setFullYear(2e3+i);break;case"MMMM":o.setMonth(s.months.indexOf(e));break;case"MMM":o.setMonth(s.monthsShort.indexOf(e));break;case"MM":case"M":o.setMonth(i-1);break;case"DD":case"D":o.setDate(i);break;case"HH":case"H":o.setHours(i);break;case"mm":case"m":o.setMinutes(i);break;case"ss":case"s":o.setSeconds(i);break;case"SSS":case"SS":case"S":o.setMilliseconds(i)}}),o},formatDate:function(e){var t,n=this.options,i=this.format,r="";if(O(t=e)&&"Invalid Date"!==t.toString()){var s=e.getFullYear(),a=e.getMonth(),o=e.getDate(),c=e.getHours(),h=e.getMinutes(),u=e.getSeconds(),l=e.getMilliseconds();r=n.format,i.tokens.forEach(function(e){var t="";switch(e){case"YYYY":case"YYY":case"Y":t=$(s,e.length);break;case"YY":t=$(s%100,2);break;case"MMMM":t=n.months[a];break;case"MMM":t=n.monthsShort[a];break;case"MM":case"M":t=$(a+1,e.length);break;case"DD":case"D":t=$(o,e.length);break;case"HH":case"H":t=$(c,e.length);break;case"mm":case"m":t=$(h,e.length);break;case"ss":case"s":t=$(u,e.length);break;case"SSS":case"SS":case"S":t=$(l,e.length)}r=r.replace(e,t)})}return r},destroy:function(){var e=this.element,t=this.picker;return R(e,g)&&(this.hide(!0),this.unbind(),function(t,n){if(P(t[n]))try{delete t[n]}catch(e){t[n]=void 0}else if(t.dataset)try{delete t.dataset[n]}catch(e){t.dataset[n]=void 0}else t.removeAttribute("data-"+B(n))}(e,g),t.parentNode.removeChild(t)),this}},te=/\{\{\s*(\w+)\s*\}\}/g,ne=/input|textarea/i,ie=v.Picker,re=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),!e||1!==e.nodeType)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=T({},i,s[t.language],H(t)&&t),this.shown=!1,this.init()}return e(n,[{key:"init",value:function(){var s=this,e=this.element;if(!R(e,g)){W(e,g,this);var a=this.options,t=ne.test(e.tagName),n=a.inline&&(a.container||!t),i=document.createElement("div");i.insertAdjacentHTML("afterbegin",p.replace(te,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.text[t[1]]}));var r=i.getElementsByClassName(g)[0],o=r.getElementsByClassName(g+"-grid")[0],c=a.container;if(S(c)&&(c=document.querySelector(c)),n)j(r,b),j(r,y),c||(c=e);else{var h=e.ownerDocument,u=h.body||h.documentElement;this.body=u,this.scrollBarWidth=v.innerWidth-h.documentElement.clientWidth,this.initialBodyPaddingRight=v.getComputedStyle(u).paddingRight,j(r,g+"-fixed"),c||(c=document.body)}this.isInput=t,this.inline=n,this.container=c,this.picker=r,this.grid=o,this.cell=null,this.format=function(e){var t=e.match(Z);if(!t)throw new Error("Invalid format");var n={tokens:t};return t.forEach(function(e){n[z(e)]=e}),n}(a.format);var l=this.getValue(),d=this.parseDate(a.date||l);this.date=d,this.initialDate=new Date(d),this.initialValue=l,this.data={};var m=Number(a.rows);m%2||(m+=1),a.rows=m||5,j(o,1<m?g+"-multiple":g+"-single");var f=a.increment;H(f)||(f={year:f,month:f,day:f,hour:f,minute:f,second:f,millisecond:f}),this.format.tokens.forEach(function(e){var t=z(e),n=document.createElement("div"),i=document.createElement("ul"),r={digit:e.length,increment:Math.abs(Number(f[t]))||1,list:i,max:1/0,min:-1/0,index:Math.floor((a.rows+2)/2),offset:0};switch(e.charAt(0)){case"Y":2===r.digit&&(r.max=99,r.min=0);break;case"M":r.max=11,r.min=0,r.offset=1,3===r.digit?r.aliases=a.monthsShort:4===r.digit&&(r.aliases=a.months);break;case"D":r.max=function(){return e=d.getFullYear(),t=d.getMonth(),[31,(n=e,n%4==0&&n%100!=0||n%400==0?29:28),31,30,31,30,31,31,30,31,30,31][t];var e,t,n},r.min=1;break;case"H":r.max=23,r.min=0;break;case"m":case"s":r.max=59,r.min=0;break;case"S":r.max=999,r.min=0}W(n,"type",t),W(n,"token",e),j(i,g+"-list"),j(n,g+"-cell"),j(n,g+"-"+t+"s"),n.appendChild(i),o.appendChild(n),s.data[t]=r,s.render(t)}),n&&(c.innerHTML=""),c.appendChild(r),this.bind()}}}],[{key:"noConflict",value:function(){return v.Picker=ie,n}},{key:"setDefaults",value:function(e){T(i,s[e.language],H(e)&&e)}}]),n}();return T(re.prototype,G,Q,X,ee),re.languages=s,re});