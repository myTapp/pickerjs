/*!
 * Picker.js v1.0.0-beta
 * https://fengyuanchen.github.io/pickerjs
 *
 * Copyright 2016-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-07-20T15:42:35.130Z
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Picker=e()}(this,function(){"use strict";var i={container:null,date:null,format:"YYYY-MM-DD HH:mm",increment:1,inline:!1,language:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rows:5,text:{title:"Pick a date / time",cancel:"Cancel",confirm:"OK",edit_date:"Digitar data"},translate:function(t,e){return e},show:null,shown:null,hide:null,hidden:null,pick:null},p='<div class="picker" data-action="hide" touch-action="none" tabindex="-1" role="dialog"><div class="picker-dialog" role="document"><div class="picker-header"><button type="button" class="picker-edit" data-action="edit" aria-label="Edit">âœŽ {{ edit_date }}</button><button type="button" class="picker-pick" data-action="pick-mode" aria-label="Pick">{{ title }}</button></div><div class="picker-body"><div class="picker-grid"></div><div class="picker-grid input-mode">            <form>              <div class="day input-container"><input type="number" pattern="\\d*" autocorrect="off" autocapitalize="off" autocomplete="bday-day"></input></div>              <div class="month input-container"><input type="number" pattern="\\d*" autocorrect="off" autocapitalize="off" autocomplete="bday-month"></input></div>              <div class="year input-container"><input type="number" pattern="\\d*" autocorrect="off" autocapitalize="off" autocomplete="bday-year"></input></div>            </form>         </div></div><div class="picker-footer"><button type="button" class="picker-cancel" data-action="hide">{{ cancel }}</button><button type="button" class="picker-confirm" data-action="pick">{{ confirm }}</button></div></div></div>',a="undefined"!=typeof window,v=a?window:{},g="picker",r={},y=g+"-open",b=g+"-opened",d=g+"-picked",s="click",o="focus",c="hidden",u="hide",h="keydown",l="pick",m=v.PointerEvent?"pointerdown":"touchstart mousedown",f=v.PointerEvent?"pointermove":"touchmove mousemove",k=v.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",w="show",M="shown",D="wheel mousewheel DOMMouseScroll",e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),n=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Y=Object.prototype,E=Y.hasOwnProperty,x=Y.toString;function S(t){return"string"==typeof t}var C=Number.isFinite||v.isFinite,N=Number.isNaN||v.isNaN;function A(t){return"number"==typeof t&&!N(t)}function P(t){return"object"===(void 0===t?"undefined":e(t))&&null!==t}function H(t){if(!P(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&E.call(n,"isPrototypeOf")}catch(t){return!1}}function L(t){return"function"==typeof t}function O(t){return"date"===(e=t,x.call(e).slice(8,-1).toLowerCase());var e}function F(e,n){if(e&&L(n))if(Array.isArray(e)||A(e.length)){var t=e.length,i=void 0;for(i=0;i<t&&!1!==n.call(e,e[i],i,e);i+=1);}else P(e)&&Object.keys(e).forEach(function(t){n.call(e,e[t],t,e)});return e}function T(n){for(var t=arguments.length,e=Array(1<t?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return P(n)&&0<e.length&&e.forEach(function(e){P(e)&&Object.keys(e).forEach(function(t){H(n[t])&&H(e[t])?n[t]=T({},n[t],e[t]):n[t]=e[t]})}),n}function j(t,e){if(e)if(A(t.length))F(t,function(t){j(t,e)});else if(t.classList)t.classList.add(e);else{var n=t.className.trim();n?n.indexOf(e)<0&&(t.className=n+" "+e):t.className=e}}function I(t,e){e&&(A(t.length)?F(t,function(t){I(t,e)}):t.classList?t.classList.remove(e):0<=t.className.indexOf(e)&&(t.className=t.className.replace(e,"")))}var V=/([a-z\d])([A-Z])/g;function B(t){return t.replace(V,"$1-$2").toLowerCase()}function R(t,e){return P(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-"+B(e))}function W(t,e,n){P(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-"+B(e),n)}var J=/\s\s*/,_=function(){var t=!1;if(a){var e=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});v.addEventListener("test",n,i),v.removeEventListener("test",n,i)}return t}();function q(n,t,i){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=i;t.trim().split(J).forEach(function(t){if(!_){var e=n.listeners;e&&e[t]&&e[t][i]&&(r=e[t][i],delete e[t][i],0===Object.keys(e[t]).length&&delete e[t],0===Object.keys(e).length&&delete n.listeners)}n.removeEventListener(t,r,a)})}function z(r,t,s){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},c=s;t.trim().split(J).forEach(function(i){if(o.once&&!_){var t=r.listeners,a=void 0===t?{}:t;c=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];delete a[i][s],r.removeEventListener(i,c,o),s.apply(r,e)},a[i]||(a[i]={}),a[i][s]&&r.removeEventListener(i,a[i][s],o),a[i][s]=c,r.listeners=a}r.addEventListener(i,c,o)})}function K(t,e,n){var i=void 0;return L(Event)&&L(CustomEvent)?i=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(i)}function U(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=String(Math.abs(t)),i=n.length,a="";for(t<0&&(a+="-");i<e;)i+=1,a+="0";return a+n}function $(t){return{Y:"year",M:"month",D:"day",H:"hour",m:"minute",s:"second",S:"millisecond"}[t.charAt(0)]}var Z=/(Y|M|D|H|m|s|S)\1*/g;var G={bind:function(){var t=this.element,e=this.options,n=this.grid;L(e.show)&&z(t,w,e.show),L(e.shown)&&z(t,M,e.shown),L(e.hide)&&z(t,u,e.hide),L(e.hidden)&&z(t,c,e.hidden),L(e.pick)&&z(t,l,e.pick),z(t,o,this.onFocus=this.focus.bind(this)),z(t,s,this.onFocus),z(this.picker,s,this.onClick=this.click.bind(this)),z(n,D,this.onWheel=this.wheel.bind(this)),z(n,m,this.onPointerDown=this.pointerdown.bind(this)),z(document,f,this.onPointerMove=this.pointermove.bind(this)),z(document,k,this.onPointerUp=this.pointerup.bind(this)),z(document,h,this.onKeyDown=this.keydown.bind(this))},unbind:function(){var t=this.element,e=this.options,n=this.grid;L(e.show)&&q(t,w,e.show),L(e.shown)&&q(t,M,e.shown),L(e.hide)&&q(t,u,e.hide),L(e.hidden)&&q(t,c,e.hidden),L(e.pick)&&q(t,l,e.pick),q(t,o,this.onFocus),q(t,s,this.onFocus),q(this.picker,s,this.onClick),q(n,D,this.onWheel),q(n,m,this.onPointerDown),q(document,f,this.onPointerMove),q(document,k,this.onPointerUp),q(document,h,this.onKeyDown)}},Q={focus:function(t){t.target.blur(),this.show()},click:function(t){var e=R(t.target,"action");"hide"===e?this.hide():"pick"===e?this.pick(t.currentTarget):"edit"===e?this.edit(t.currentTarget):"pick-mode"===e&&this.pickMode(t.currentTarget)},wheel:function(t){var e=t.target;if(e!==this.grid){t.preventDefault(),"li"===e.tagName.toLowerCase()&&(e=e.parentNode),"ul"===e.tagName.toLowerCase()&&(e=e.parentNode);var n=R(e,"type");t.deltaY<0?this.prev(n):this.next(n)}},pointerdown:function(t){var e=t.target;if(e!==this.grid){t.preventDefault(),"li"===e.tagName.toLowerCase()&&(e=e.parentNode),"ul"===e.tagName.toLowerCase()&&(e=e.parentNode);var n=e.firstElementChild,i=n.firstElementChild.offsetHeight;this.cell={elem:e,list:n,moveY:0,maxMoveY:i,minMoveY:i/2,startY:t.changedTouches?t.changedTouches[0].pageY:t.pageY,type:R(e,"type")}}},pointermove:function(t){var e=this.cell;if(e){t.preventDefault();var n=t.changedTouches?t.changedTouches[0].pageY:t.pageY,i=e.moveY+(n-e.startY);e.startY=n,e.moveY=i,Math.abs(i)<e.maxMoveY?e.list.style.top=i+"px":(e.list.style.top=0,e.moveY=0,i>=e.maxMoveY?this.prev(e.type):i<=-e.maxMoveY&&this.next(e.type))}},pointerup:function(t){var e=this.cell;e&&(t.preventDefault(),e.list.style.top=0,e.moveY>=e.minMoveY?this.prev(e.type):e.moveY<=-e.minMoveY&&this.next(e.type),this.cell=null)},keydown:function(t){!this.shown||"Escape"!==t.key&&27!==t.keyCode||this.hide()}},X={render:function(t){var e=this;if(t){var n=this.options,i=this.data[t],a=this.current(t),r=L(i.max)?i.max():i.max,s=L(i.min)?i.min():i.min,o=0;console.log(this.data,i),C(r)&&(o=0<s?r:r+1),i.list.innerHTML="",i.current=a;for(var c=0;c<n.rows+2;c+=1){var u=document.createElement("li"),h=c-i.index,l=a+h*i.increment;o&&(l%=o)<s&&(l+=o),u.textContent=n.translate(t,i.aliases?i.aliases[l]:U(l+i.offset,i.digit)),W(u,"name",t),W(u,"value",l),j(u,g+"-item"),0===h&&(j(u,d),i.item=u),i.list.appendChild(u)}}else this.format.tokens.forEach(function(t){return e.render($(t))})},current:function(t,e){var n=this.date,i=this.format,a=i[t];switch(a.charAt(0)){case"Y":return A(e)&&(n.setFullYear(2===a.length?2e3+e:e),i.month&&this.render($(i.month)),i.day&&this.render($(i.day))),n.getFullYear();case"M":return A(e)&&(n.setMonth(e),i.day&&this.render($(i.day))),n.getMonth();case"D":return A(e)&&n.setDate(e),n.getDate();case"H":return A(e)&&n.setHours(e),n.getHours();case"m":return A(e)&&n.setMinutes(e),n.getMinutes();case"s":return A(e)&&n.setSeconds(e),n.getSeconds();case"S":return A(e)&&n.setMilliseconds(e),n.getMilliseconds()}return n},getValue:function(){var t=this.element;return this.isInput?t.value:t.textContent},setValue:function(t){var e=this.element;this.isInput?e.value=t:this.options.container&&(e.textContent=t)},open:function(){var t=this.body;t.style.overflow="hidden",t.style.paddingRight=this.scrollBarWidth+(parseFloat(this.initialBodyPaddingRight)||0)+"px"},close:function(){var t=this.body;t.style.overflow="",t.style.paddingRight=this.initialBodyPaddingRight}},tt={show:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.element,n=this.picker;if(this.inline||this.shown)return this;if(!1===K(e,w))return this;this.shown=!0,this.open(),j(n,y);var i=function(){K(e,M)};return t||n.offsetWidth,j(n,b),t?i():setTimeout(i,300),this},hide:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this.element,i=this.picker;if(this.inline||!this.shown)return this;if(!1===K(n,u))return this;this.shown=!1,I(i,b);var a=function(){t.close(),I(i,y),I(i,"input-mode"),K(n,c)};return e?a():setTimeout(a,300),this},prev:function(t){var e=this.options,n=this.format[t],i=this.data[t],a=i.list,r=a.lastElementChild,s=L(i.max)?i.max():i.max,o=L(i.min)?i.min():i.min,c=i.item.previousElementSibling,u=Number(R(a.firstElementChild,"value"))-i.increment;return u<o&&(u+=s-o+1),r.textContent=e.translate(t,i.aliases?i.aliases[u]:U(u+i.offset,n.length)),W(r,"value",u),c&&(I(i.item,d),j(c,d),i.item=c),a.insertBefore(r,a.firstElementChild),i.current=Number(R(i.item,"value")),this.current(t,i.current),this.inline&&e.container&&this.pick(),this},next:function(t){var e=this.options,n=this.format[t],i=this.data[t],a=i.list,r=a.firstElementChild,s=L(i.max)?i.max():i.max,o=L(i.min)?i.min():i.min,c=i.item.nextElementSibling,u=Number(R(a.lastElementChild,"value"))+i.increment;return s<u&&(u-=s-o+1),r.textContent=e.translate(t,i.aliases?i.aliases[u]:U(u+i.offset,n.length)),W(r,"value",u),a.appendChild(r),c&&(I(i.item,d),j(c,d),i.item=c),i.current=Number(R(i.item,"value")),this.current(t,i.current),this.inline&&e.container&&this.pick(),this},pick:function(t){var e=this.element;if(!1===K(e,l))return this;var n=this.formatDate(this.date);return!0===this.input_mode&&(n=this.formatDate(this.generateInputDate(t))),this.setDate(this.generateInputDate(t)),this.setValue(n),this.isInput&&!1===K(e,"change")&&this.reset(),this.hide(),this},edit:function(t){this.changeView(t)},pickMode:function(t){I(t,"input-mode"),this.input_mode=!1;var e=this.generateInputDate(t);this.setDate(e)},changeView:function(t){j(t,"input-mode");for(var e=this.getDate(),n=[e.getDate(),e.getMonth()+1,e.getFullYear()],i=t.querySelectorAll(".input-container input"),a=0;a<i.length;a++)i[a].value=n[a];this.input_mode=!0},generateInputDate:function(t){for(var e=t.querySelectorAll(".input-container input"),n=[],i=e.length-1;0<=i;i--)n.push(+e[i].value);return new Date(n[0],n[1]-1,n[2])},getDate:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.date;return t?this.formatDate(e):new Date(e)},setDate:function(t){return t&&(this.date=this.parseDate(t),this.render()),this},update:function(){return this.date=this.parseDate(this.getValue()),this.render(),this},reset:function(){return this.setValue(this.initialValue),this.date=new Date(this.initialDate),this.render(),this},parseDate:function(a){var r=this.options,s=this.format,t=[];if(O(a))return new Date(a);if(S(a)){var e=[].concat(n(r.months),n(r.monthsShort),["\\d+"]);if((t=a.match(new RegExp("("+e.join("|")+")","g")))&&a.length===r.format.length&&t.length!==s.tokens.length&&(t=s.tokens.map(function(t){return a.substr(r.format.indexOf(t),t.length)})),!t||t.length!==s.tokens.length)return new Date}var o=new Date;return t.forEach(function(t,e){var n=s.tokens[e],i=Number(t);switch(n){case"YYYY":case"YYY":case"Y":o.setFullYear("-"===a.substr(a.indexOf(t)-1,1)?-i:i);break;case"YY":o.setFullYear(2e3+i);break;case"MMMM":o.setMonth(r.months.indexOf(t));break;case"MMM":o.setMonth(r.monthsShort.indexOf(t));break;case"MM":case"M":o.setMonth(i-1);break;case"DD":case"D":o.setDate(i);break;case"HH":case"H":o.setHours(i);break;case"mm":case"m":o.setMinutes(i);break;case"ss":case"s":o.setSeconds(i);break;case"SSS":case"SS":case"S":o.setMilliseconds(i)}}),o},formatDate:function(t){var e,n=this.options,i=this.format,a="";if(O(e=t)&&"Invalid Date"!==e.toString()){var r=t.getFullYear(),s=t.getMonth(),o=t.getDate(),c=t.getHours(),u=t.getMinutes(),h=t.getSeconds(),l=t.getMilliseconds();a=n.format,i.tokens.forEach(function(t){var e="";switch(t){case"YYYY":case"YYY":case"Y":e=U(r,t.length);break;case"YY":e=U(r%100,2);break;case"MMMM":e=n.months[s];break;case"MMM":e=n.monthsShort[s];break;case"MM":case"M":e=U(s+1,t.length);break;case"DD":case"D":e=U(o,t.length);break;case"HH":case"H":e=U(c,t.length);break;case"mm":case"m":e=U(u,t.length);break;case"ss":case"s":e=U(h,t.length);break;case"SSS":case"SS":case"S":e=U(l,t.length)}a=a.replace(t,e)})}return a},destroy:function(){var t=this.element,e=this.picker;return R(t,g)&&(this.hide(!0),this.unbind(),function(e,n){if(P(e[n]))try{delete e[n]}catch(t){e[n]=void 0}else if(e.dataset)try{delete e.dataset[n]}catch(t){e.dataset[n]=void 0}else e.removeAttribute("data-"+B(n))}(t,g),e.parentNode.removeChild(e)),this}},et=/\{\{\s*(\w+)\s*\}\}/g,nt=/input|textarea/i,it=v.Picker,at=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),!t||1!==t.nodeType)throw new Error("The first argument is required and must be an element.");this.element=t,this.options=T({},i,r[e.language],H(e)&&e),this.shown=!1,this.init()}return t(n,[{key:"init",value:function(){var r=this,t=this.element;if(!R(t,g)){W(t,g,this);var s=this.options,e=nt.test(t.tagName),n=s.inline&&(s.container||!e),i=document.createElement("div");i.insertAdjacentHTML("afterbegin",p.replace(et,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return s.text[e[1]]}));var a=i.getElementsByClassName(g)[0],o=a.getElementsByClassName(g+"-grid")[0],c=s.container;if(S(c)&&(c=document.querySelector(c)),n)j(a,y),j(a,b),c||(c=t);else{var u=t.ownerDocument,h=u.body||u.documentElement;this.body=h,this.scrollBarWidth=v.innerWidth-u.documentElement.clientWidth,this.initialBodyPaddingRight=v.getComputedStyle(h).paddingRight,j(a,g+"-fixed"),c||(c=document.body)}this.isInput=e,this.inline=n,this.container=c,this.picker=a,this.grid=o,this.cell=null,this.format=function(t){var e=t.match(Z);if(!e)throw new Error("Invalid format");var n={tokens:e};return e.forEach(function(t){n[$(t)]=t}),n}(s.format);var l=this.getValue(),d=this.parseDate(s.date||l);this.date=d,this.initialDate=new Date(d),this.initialValue=l,this.data={};var m=Number(s.rows);m%2||(m+=1),s.rows=m||5,j(o,1<m?g+"-multiple":g+"-single");var f=s.increment;H(f)||(f={year:f,month:f,day:f,hour:f,minute:f,second:f,millisecond:f}),this.format.tokens.forEach(function(t){var e=$(t),n=document.createElement("div"),i=document.createElement("ul"),a={digit:t.length,increment:Math.abs(Number(f[e]))||1,list:i,max:1/0,min:-1/0,index:Math.floor((s.rows+2)/2),offset:0};switch(t.charAt(0)){case"Y":2===a.digit&&(a.max=99,a.min=0);break;case"M":a.max=11,a.min=0,a.offset=1,3===a.digit?a.aliases=s.monthsShort:4===a.digit&&(a.aliases=s.months);break;case"D":a.max=function(){return t=d.getFullYear(),e=d.getMonth(),[31,(n=t,n%4==0&&n%100!=0||n%400==0?29:28),31,30,31,30,31,31,30,31,30,31][e];var t,e,n},a.min=1;break;case"H":a.max=23,a.min=0;break;case"m":case"s":a.max=59,a.min=0;break;case"S":a.max=999,a.min=0}W(n,"type",e),W(n,"token",t),j(i,g+"-list"),j(n,g+"-cell"),j(n,g+"-"+e+"s"),n.appendChild(i),o.appendChild(n),r.data[e]=a,r.render(e)}),n&&(c.innerHTML=""),c.appendChild(a),this.bind()}}}],[{key:"noConflict",value:function(){return v.Picker=it,n}},{key:"setDefaults",value:function(t){T(i,r[t.language],H(t)&&t)}}]),n}();return T(at.prototype,G,Q,X,tt),at.languages=r,at});